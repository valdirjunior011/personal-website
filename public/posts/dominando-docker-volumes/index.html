<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Docker Volumes: Share and Persist Data Efficiently Â· Valdir Junior
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Valdir Junior">
<meta name="description" content="How to use Docker volumes to share and persist data efficiently in your applications.">
<meta name="keywords" content="devops, cloud, kubernetes, docker, linux, ansible, terraform, python, aws, azure">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Docker Volumes: Share and Persist Data Efficiently">
  <meta name="twitter:description" content="How to use Docker volumes to share and persist data efficiently in your applications.">

<meta property="og:url" content="http://localhost:1313/posts/dominando-docker-volumes/">
  <meta property="og:site_name" content="Valdir Junior">
  <meta property="og:title" content="Docker Volumes: Share and Persist Data Efficiently">
  <meta property="og:description" content="How to use Docker volumes to share and persist data efficiently in your applications.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-02T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-03-02T00:00:00+00:00">
    <meta property="article:tag" content="Docker">
    <meta property="article:tag" content="Volumes">
    <meta property="article:tag" content="Containers">
    <meta property="article:tag" content="Devops">




<link rel="canonical" href="http://localhost:1313/posts/dominando-docker-volumes/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      Valdir Junior
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Publications</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/projects/">Experience</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/valdir-junior.pdf">Curriculum</a>
            </li>
          
        
        
          
          
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="/pt-br/posts/dominando-docker-volumes/">ðŸ‡§ðŸ‡·</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/dominando-docker-volumes/">
              Docker Volumes: Share and Persist Data Efficiently
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-03-02T00:00:00Z">
                March 2, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              4-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/devops/">DevOps</a>
      <span class="separator">â€¢</span>
    <a href="/categories/containers/">Containers</a>
      <span class="separator">â€¢</span>
    <a href="/categories/linux/">Linux</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/docker/">Docker</a>
    </span>
      <span class="separator">â€¢</span>
    <span class="tag">
      <a href="/tags/volumes/">Volumes</a>
    </span>
      <span class="separator">â€¢</span>
    <span class="tag">
      <a href="/tags/containers/">Containers</a>
    </span>
      <span class="separator">â€¢</span>
    <span class="tag">
      <a href="/tags/devops/">Devops</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p><img src="https://media.licdn.com/dms/image/v2/D4E12AQEerXYc8JGnFA/article-cover_image-shrink_720_1280/article-cover_image-shrink_720_1280/0/1694435515394?e=1758758400&amp;v=beta&amp;t=UxGuBTGGWEnDDex9-bjyIXHAQMHQx4tLUMqzjdeY4Us" alt=""></p>
<p>One of the fundamental features that make Docker a popular choice is the ability to persist data
across container runs. This is possible thanks to Docker volumes. In this article, weâ€™ll explore the
concept of Docker volumes comprehensively.</p>
<hr>
<p><strong>What Are Docker Volumes?</strong></p>
<p>Simply put, Docker volumes are mechanisms that allow data to be shared and persisted between
containers and the host where Docker is running. They are especially useful for storing data such as
databases, logs, or any other information that needs to &ldquo;survive&rdquo; beyond a containerâ€™s lifecycle.</p>
<p>Docker volumes offer several advantages, including:</p>
<ol>
<li>
<p><strong>Data Persistence</strong>: Data stored in volumes is not lost when a container stops or is removed.</p>
</li>
<li>
<p><strong>Data Sharing</strong>: Volumes can be shared across multiple containers, enabling them to access the
same data.</p>
</li>
<li>
<p><strong>Improved Performance</strong>: Compared to copying data directly in and out of containers, using
volumes can significantly improve I/O performance.</p>
</li>
<li>
<p><strong>Simple Backup and Restore</strong>: Since data is isolated in volumes, backing up and restoring
becomes easier.</p>
</li>
</ol>
<hr>
<p>Now that we understand why volumes matter, letâ€™s look at how to use them.</p>
<h2 id="using-docker-volumes">
  Using Docker Volumes
  <a class="heading-link" href="#using-docker-volumes">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="mount-types">
  Mount Types
  <a class="heading-link" href="#mount-types">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li><strong>Host Volume Mounts (Bind Mounts)</strong>: Host volumes, or bind mounts, allow you to mount directories
or files from the hostâ€™s filesystem directly into a container. This means you can share specific
host data with a container. To create a bind mount, use the -v or &ndash;volume option followed by the
host path and container path.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">docker run -v /path/on/host:/path/in/container my_app
</span></span></code></pre></div><blockquote>
<p>This mounts the /path/on/host directory from the host into the container at /path/in/container.</p></blockquote>
<ul>
<li><strong>Docker Volumes (Managed by Docker)</strong>: Docker volumes are Docker-specific volumes managed by the
Docker daemon. They are created automatically and are generally more flexible regarding where and
how data is stored on the host. To create a Docker volume, you can run:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">docker volume create my_volume
</span></span></code></pre></div><p>This creates a volume named my_volume that can be mounted into one or more containers.</p>
<hr>
<h3 id="mounting-a-volume-in-a-container">
  Mounting a Volume in a Container
  <a class="heading-link" href="#mounting-a-volume-in-a-container">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Now, letâ€™s create a container and mount our volume to it. Suppose you have an app that needs to
store data in a volume.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl"><span class="c1"># -d to run in detached mode (background)</span>
</span></span><span class="line"><span class="cl">docker run -d -v my_volume:/app/data my_app
</span></span></code></pre></div><p>This command creates a new container from the image my_app and mounts the volume my_volume to
/app/data inside the container. Any data written to /app/data inside the container will be stored in
the my_volume volume on the host.</p>
<p><strong>Sharing Volumes Between Containers</strong></p>
<p>One of the benefits of volumes is the ability to share them between containers. This is useful when
you want multiple containers to access the same data. To do this, simply mount the same volume in
different containers.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">docker run -d -v my_volume:/app/data container_1
</span></span><span class="line"><span class="cl">docker run -d -v my_volume:/app/data container_2
</span></span></code></pre></div><p>Now, both <code>container_1</code> and <code>container_2</code> can access and modify the same data stored in the
my_volume volume.</p>
<blockquote>
<p>Since we donâ€™t specify permissions, by default all containers have read-write (rw) access.</p></blockquote>
<p><strong>Viewing Volumes</strong></p>
<p>To list all Docker volumes on your system, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">docker volume ls
</span></span></code></pre></div><p>To inspect a specific volume, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">docker volume inspect my_volume
</span></span></code></pre></div><hr>
<h3 id="examples-of-using-docker-volumes">
  Examples of Using Docker Volumes
  <a class="heading-link" href="#examples-of-using-docker-volumes">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p><strong>Example 1: Storing Data in a Database</strong></p>
<p>Letâ€™s run a MySQL database container and create a volume to store its data:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">docker volume create database_data
</span></span><span class="line"><span class="cl">docker run -d -v database_data:/var/lib/mysql mysql:latest
</span></span></code></pre></div><p>This ensures the database data persists in the database_data volume.</p>
<p><strong>Example 2: Sharing Logs</strong></p>
<p>Suppose you have a web app and a log server running in separate containers. You can create a volume
to share logs between them:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">docker volume create logs
</span></span><span class="line"><span class="cl">docker run -d -v logs:/app/logs my_web_app
</span></span><span class="line"><span class="cl">docker run -d -v logs:/app/logs log_server
</span></span></code></pre></div><p>Now both containers can access the same logs in the logs volume.</p>
<hr>
<h3 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Docker volumes are an essential tool for managing data efficiently and persistently in containers.
They allow you to persist data, share information between containers, and improve I/O performance.
With the concepts and examples presented here, youâ€™re ready to start using Docker volumes in your
own projects. Explore further and experiment with different use cases to sharpen your Docker skills.</p>
<p>Official documentation:
<a href="https://docs.docker.com/storage/volumes/"  class="external-link" target="_blank" rel="noopener">https://docs.docker.com/storage/volumes/</a></p>

      </div>


      <footer>
        


        
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    Â©  2019 -
     2025  Valdir Junior    <a></a> <a></a> 
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
