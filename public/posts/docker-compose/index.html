<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Docker Compose: Orchestrating Applications · Valdir Junior
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Valdir Junior">
<meta name="description" content="Learn how to use Docker Compose to orchestrate multi-container applications in a simple and efficient way.">
<meta name="keywords" content="devops, cloud, kubernetes, docker, linux, ansible, terraform, python, aws, azure">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Docker Compose: Orchestrating Applications">
  <meta name="twitter:description" content="Learn how to use Docker Compose to orchestrate multi-container applications in a simple and efficient way.">

<meta property="og:url" content="http://localhost:1313/posts/docker-compose/">
  <meta property="og:site_name" content="Valdir Junior">
  <meta property="og:title" content="Docker Compose: Orchestrating Applications">
  <meta property="og:description" content="Learn how to use Docker Compose to orchestrate multi-container applications in a simple and efficient way.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-02T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-03-02T00:00:00+00:00">
    <meta property="article:tag" content="Docker">
    <meta property="article:tag" content="Docker-Compose">
    <meta property="article:tag" content="Containers">
    <meta property="article:tag" content="DevOps">




<link rel="canonical" href="http://localhost:1313/posts/docker-compose/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      Valdir Junior
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Publications</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/projects/">Experience</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/valdir-junior.pdf">Curriculum</a>
            </li>
          
        
        
          
          
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="/pt-br/posts/docker-compose/">🇧🇷</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/docker-compose/">
              Docker Compose: Orchestrating Applications
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-03-02T00:00:00Z">
                March 2, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              4-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/devops/">DevOps</a>
      <span class="separator">•</span>
    <a href="/categories/containers/">Containers</a>
      <span class="separator">•</span>
    <a href="/categories/linux/">Linux</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/docker/">Docker</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/docker-compose/">Docker-Compose</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/containers/">Containers</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/devops/">DevOps</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p><img src="https://media.licdn.com/dms/image/v2/D4E12AQHiC2c06YoG-w/article-cover_image-shrink_720_1280/article-cover_image-shrink_720_1280/0/1695363689934?e=1758758400&amp;v=beta&amp;t=0KQjIAC6Ne0CooOM3hdPZef5LxIA8Izgw1Q4PibU6fw" alt=""></p>
<h2 id="orchestrating-applications-with-ease">
  Orchestrating Applications with Ease
  <a class="heading-link" href="#orchestrating-applications-with-ease">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="what-is-docker-compose">
  What is Docker Compose?
  <a class="heading-link" href="#what-is-docker-compose">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Docker Compose is a tool that allows you to define and manage multi-container applications using a
single YAML file. With it, you can specify the configuration, services, and networks required for
your application, making container orchestration a much simpler task.</p>
<h3 id="installing-docker-compose">
  Installing Docker Compose
  <a class="heading-link" href="#installing-docker-compose">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>If you don’t have Docker Compose installed yet, follow the instructions in the
<a href="https://docs.docker.com/compose/install/"  class="external-link" target="_blank" rel="noopener"><strong>official documentation</strong></a> to set it up in your
environment. Make sure Docker is also installed and running.</p>
<h3 id="docker-compose-file-structure">
  Docker Compose file structure
  <a class="heading-link" href="#docker-compose-file-structure">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>A Docker Compose file is defined in YAML format and has a basic structure, which includes:</p>
<ol>
<li><strong>Format version</strong>: Specifies the version of the Docker Compose syntax used in the file.</li>
<li><strong>Services</strong>: Defines the containers that make up the application and their configurations.</li>
<li><strong>Networks</strong>: Defines the networks used by the containers.</li>
<li><strong>Volumes</strong>: Defines volumes used for persistent storage.</li>
<li><strong>Environment variables (env)</strong>: Defines the environment variables required for the containers.</li>
</ol>
<h3 id="practical-example-web-application-with-flask-and-redis">
  Practical example: Web Application with Flask and Redis
  <a class="heading-link" href="#practical-example-web-application-with-flask-and-redis">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Let’s create a practical example of a simple web application using Docker Compose.<br>
Our application will consist of a Flask server and a Redis database.<br>
Here’s an example of the <strong>docker-compose.yml</strong> file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">___</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;3&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">web</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">flask-app</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;5000:5000&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">./app:/app</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">DEBUG=true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">redis</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">redis:alpine</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">backend</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">backend</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">bridge</span><span class="w">
</span></span></span></code></pre></div><p>Here, we’ve added the following elements to our Docker Compose file:</p>
<ul>
<li><strong>Volumes</strong>: The web service now has a volume that maps the local ./app folder to /app inside the
container. This allows you to make changes to the local source code and see them instantly
reflected in the container.</li>
<li><strong>Environment Variables (env)</strong>: We defined the DEBUG environment variable as true. This can be
used in the web container to enable debug mode.</li>
<li><strong>Networks</strong>: We created a custom network called backend and linked the Redis service to it. This
isolates network traffic between containers, improving security and organization.</li>
</ul>
<p>Now, you can run your application with a single command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">docker-compose up
</span></span></code></pre></div><h3 id="docker-compose-down-command">
  docker-compose down command
  <a class="heading-link" href="#docker-compose-down-command">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>To remove the containers and resources created with Docker Compose, you can use the command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">docker-compose down
</span></span></code></pre></div><blockquote>
<p>ℹ️ This command also removes networks, volumes, and other associated resources.</p></blockquote>
<p>Additionally, you can use variables in your <strong>docker-compose.yml</strong> file to customize the
configuration based on the environment. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">___</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;3&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">web</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">flask-app</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;5000:5000&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">./app:/app</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">DEBUG=${DEBUG:-false}</span><span class="w">
</span></span></span></code></pre></div><p>In this example, the DEBUG environment variable is set to a default value of false. If you want to
override this value when starting the container, you can do so with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl"><span class="nv">DEBUG</span><span class="o">=</span><span class="nb">true</span> docker-compose up
</span></span></code></pre></div><p>This way, you can easily customize Docker Compose settings.</p>
<h3 id="scalability-and-management">
  Scalability and Management
  <a class="heading-link" href="#scalability-and-management">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>One of the advantages of Docker Compose is the ease of scaling applications. For example, if we want
to increase the number of web application containers to handle more traffic, just run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">docker-compose up --scale <span class="nv">web</span><span class="o">=</span><span class="m">3</span>
</span></span></code></pre></div><p>This will start three web containers. Docker Compose will handle all the networking and scaling
details for you.</p>
<h3 id="when-to-use-docker-compose">
  When to Use Docker Compose
  <a class="heading-link" href="#when-to-use-docker-compose">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p><strong>Docker Compose</strong>: Use Docker Compose when developing locally or when you need to orchestrate
simple applications on a single machine for development and testing purposes.</p>
<p>Choose <strong>Kubernetes</strong> when you need robust orchestration, automatic scaling, high availability, and
advanced container management for production environments. It’s the right choice for complex
applications, microservices, and large-scale deployments.</p>
<h3 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Docker Compose is a tool that simplifies Docker container orchestration for testing purposes, making
it easier to define and manage multi-container applications. In this article, we explored the
structure of a Docker Compose file and provided a practical example to help you get started.</p>
<p>Understanding Docker Compose is essential for anyone who wants to make the most of the flexibility
of containers. As you deepen your knowledge, you’ll open the door to creating and deploying complex
applications with ease.</p>

      </div>


      <footer>
        


        
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©  2019 -
     2025  Valdir Junior    <a></a> <a></a> 
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
